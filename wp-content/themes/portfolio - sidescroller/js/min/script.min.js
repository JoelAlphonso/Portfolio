function wiggle(e){jQuery(e).each(function(){wiggleProp(this,"scale",.85,1),wiggleProp(this,"rotation",-5,5),wiggleProp(this,"x",-10,10),wiggleProp(this,"y",-10,10)})}function wiggleProp(e,o,n,r){var t=2*Math.random()+1,i={ease:Power1.easeInOut,onComplete:wiggleProp,onCompleteParams:[e,o,n,r]};i[o]=Math.random()*(r-n)+n,TweenMax.to(e,t,i)}function showImage(e){disableScroll(),$href=jQuery(e).data("href"),jQuery(".overlay").addClass("visible").removeClass("hidden"),jQuery(".overlayContent").addClass("grow-off"),jQuery(".overlayContent > .content").html('<img src="'+$href+'" alt="popup image"/>')}function showVideo(e){disableScroll(),$href=jQuery(e).data("href"),jQuery(".overlay").addClass("visible").removeClass("hidden"),jQuery(".overlayContent").removeClass("grow-off"),jQuery(".overlayContent > .content").html('<div class="embed-container"><iframe src="'+$href+'" frameborder="0" allowfullscreen></iframe></div>')}function hideOverlay(){enableScroll(),jQuery(".overlay").removeClass("visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){jQuery(this).addClass("hidden")}),jQuery(".overlayContent > .content").empty()}function disableScroll(){jQuery(document).smoothWheel({remove:"true"}),jQuery("body").addClass("overflowhidden")}function enableScroll(){jQuery(document).smoothWheel(),jQuery("body").addClass("overflowhidden")}jQuery(document).ready(function(e){enableScroll(),e("nav .cd-primary-nav a").smoothScroll({afterScroll:function(){menuSlide()},easing:"swing"}),e(window).width()<600&&e(".cardslider").height(e(".cs-current .cs-desc-title").outerHeight()+e(".cs-current .cs-desc-content").outerHeight()+200),e(window).resize(function(){e(window).width()<600?e(".cardslider").height(e(".cs-current .cs-desc-title").outerHeight()+e(".cs-current .cs-desc-content").outerHeight()+200):e(".cardslider").height("inherit")}),wiggle(".wiggle"),e("body").on("click",".showImage",function(){showImage(this)}),e("body").on("click",".openVideo",function(){showVideo(this)}),e("body").on("click",".overlayExit",function(){hideOverlay()}),e('[data-type="background"]').each(function(){var o=e(this);e(window).scroll(function(){var n=parseInt((o.parent().offset().top-e(window).scrollTop())/o.data("speed")),r=-n;o.css("top",r)})})});