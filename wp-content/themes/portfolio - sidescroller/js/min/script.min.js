!function(e){function o(o){e(o).each(function(){n(this,"scale",1,1),n(this,"rotation",0,0),n(this,"x",-10,10),n(this,"y",-10,10)})}function n(e,o,i,t){var a=2*Math.random()+2,r={ease:Power1.easeInOut,onComplete:n,onCompleteParams:[e,o,i,t]};r[o]=Math.random()*(t-i)+i,TweenMax.to(e,a,r)}function i(o){r(),$href=e(o).data("href"),e(".overlay").addClass("visible").removeClass("hidden"),e(".overlayContent").addClass("grow-off"),e(".overlayContent > .content").html('<img src="'+$href+'" alt="popup image"/>')}function t(o){r(),$href=e(o).data("href"),e(".overlay").addClass("visible").removeClass("hidden"),e(".overlayContent").removeClass("grow-off"),e(".overlayContent > .content").html('<div class="embed-container"><iframe src="'+$href+'" frameborder="0" allowfullscreen></iframe></div>')}function a(){s(),e(".overlay").removeClass("visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e(this).addClass("hidden")}),e(".overlayContent > .content").empty()}function r(){e(document).smoothWheel({remove:"true"}),e("body").addClass("overflowhidden")}function s(){e(document).smoothWheel(),e("body").addClass("overflowhidden")}function d(){sideScroller={speed:10,velocity:0},layers=[],keys=[],min=e(".mainLayer").position().left,max=1.5*e(window).width()-e(".mainLayer").width(),mainLayerWidth=e(".mainLayer").width(),friction=.95,e(".paraLayer").each(function(o){var n=e(this),i=n.position().left,t=n.data("depth");layers[o]={layer:n,position:i,speed:t},1>t?n.width(e(".mainLayer").width()*t+1.5*e(window).width()):n.width(e(".mainLayer").width()*t)}),e(document).keydown(function(e){keys[e.keyCode]=!0}),e(document).keyup(function(e){keys[e.keyCode]=!1}),setInterval(c,1e3/60)}function c(){keys[39]&&(e(".mainLayer").position().left>=max?sideScroller.velocity>-sideScroller.speed&&sideScroller.velocity--:sideScroller.velocity=0),keys[37]&&(e(".mainLayer").position().left<=min?sideScroller.velocity<sideScroller.speed&&sideScroller.velocity++:sideScroller.velocity=0),sideScroller.velocity*=friction;for(var o in layers){layers[o].position+=sideScroller.velocity*layers[o].speed;var n=layers[o].position+"px";layers[o].layer.css("transform","translateX("+n+")")}}function l(){min=e(".mainLayer").position().left,max=1.5*e(window).width()-e(".mainLayer").width()}function y(){var o=e(".day-night"),n=e(".ciel"),i=e(".jour");TweenMax.from(o,0,{rotation:0,repeat:-1,ease:Linear.easeNone}),TweenMax.to(o,120,{rotation:360,repeat:-1,ease:Linear.easeNone});var t=new TimelineLite({repeat:-1});t.to(n,20,{backgroundColor:"#d9c72b",ease:Linear.easeNone}).to(n,10,{backgroundColor:"#d9552b",ease:Linear.easeNone}).to(n,10,{backgroundColor:"#6e10e8",ease:Linear.easeNone}).to(n,40,{backgroundColor:"#6e10e8",ease:Linear.easeNone}).to(n,10,{backgroundColor:"#e86f1c",ease:Linear.easeNone}).to(n,10,{backgroundColor:"#d9c72b",ease:Linear.easeNone}).to(n,20,{backgroundColor:"#d9c72b",ease:Linear.easeNone}),t.play();var a=new TimelineLite({repeat:-1});a.to(i,30,{opacity:1,ease:Linear.easeNone}).to(i,10,{opacity:0,ease:Linear.easeNone}).to(i,40,{opacity:0,ease:Linear.easeNone}).to(i,10,{opacity:1,ease:Linear.easeNone}).to(i,30,{opacity:1,ease:Linear.easeNone}),a.play()}e(document).ready(function(e){s(),d(),y(),e(window).resize(function(){l()}),e("nav .cd-primary-nav a").smoothScroll({afterScroll:function(){menuSlide()},easing:"swing"}),e(window).width()<600&&e(".cardslider").height(e(".cs-current .cs-desc-title").outerHeight()+e(".cs-current .cs-desc-content").outerHeight()+200),e(window).resize(function(){e(window).width()<600?e(".cardslider").height(e(".cs-current .cs-desc-title").outerHeight()+e(".cs-current .cs-desc-content").outerHeight()+200):e(".cardslider").height("inherit")}),o(".wiggle"),e("body").on("click",".showImage",function(){i(this)}),e("body").on("click",".openVideo",function(){t(this)}),e("body").on("click",".overlayExit",function(){a()}),e('[data-type="background"]').each(function(){var o=e(this);e(window).scroll(function(){var n=parseInt((o.parent().offset().top-e(window).scrollTop())/o.data("speed")),i=-n;o.css("top",i)})})})}(jQuery);